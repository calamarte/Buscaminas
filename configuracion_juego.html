<!DOCTYPE html>
<html>
  <head>
    <meta  charset="utf-8">
    <meta name="description" content="Informacion personal">
    <meta name="keyswords" content="juego,videojuego,buscaminas">
    <meta name="author" content="Jose Navarro">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="robots">
      <link rel="stylesheet" type="text/css" href="css/nav.css">
    <title>Configuración</title>
  </head>
  <body>
    <header>
      <h1>Configuración</h1>
    <nav>
    <ul>
     <li><a href="index.html">Indice</a></li>
     <li><a href="contacto.html">Contacto</a></li>
     <li><a href="quien_soy.html">¿Quien soy?</a></li>
     <li><a href="ayuda.html">Ayuda</a></li>
     <li><a href="configuracion_juego.html">Configuración del juego</a></li>
   </ul>
   </nav>
   </header>
   <section class="col-12 config">
     <h2>Opciones</h2>
     <form action="index.html" method="post"><!--Sonido, Tamaño, Dificultad-->
         <div class="dificultad">
         <label for="dificultad">Dificultad</label>
       <select name="dificultad" id="dificultad">
         <option value="facil">Facil</option>
         <option selected value="normal">Normal</option>
         <option value="dificil">Difícil</option>
       </select>
         </div>
         <div class="modo">
         <label for="modo">Modo</label>
       <select name="modo" id="modo">
         <option selected value="libre">Libre</option>
         <option value="contrareloj">Contrareloj</option>
       </select>
         </div>
         <div class="sonido">
         <label for="sonido">Sonido</label>
       <select name="sonido" id="sonido">
         <option value="mute">Silencio</option>
         <option selected value="normal">Normal</option>
       </select>
         </div>
         <div class="apli">
         <input type="button" value="Aplicar" onclick="getInfo()">
         </div>
     </form>
   </section>
    <div class="animacion col-12">
        <img src="mina.png" alt="una mina">
    </div>
    <script type="text/javascript">
        setSelected();
        function setSelected() {
            if(!localStorage.getItem("dificultad"))return;
            var dificultad = localStorage.getItem("dificultad");
            var modo = localStorage.getItem("modo");
            var sonido = localStorage.getItem("sonido");

            switch (dificultad){
                case "10":
                    document.getElementById("dificultad").getElementsByTagName('option')[0].selected = 'selected';
                    break;
                case "25":
                    document.getElementById("dificultad").getElementsByTagName('option')[1].selected = 'selected';
                    break;
                case "50":
                    document.getElementById("dificultad").getElementsByTagName('option')[2].selected = 'selected';
                    break;
            }

            switch (modo){
                case "true":
                    document.getElementById("modo").getElementsByTagName('option')[0].selected = 'selected';
                    break;
                case "false":
                    document.getElementById("modo").getElementsByTagName('option')[1].selected = 'selected';
                    break;
            }

            switch (sonido){
                case "false":
                    document.getElementById("sonido").getElementsByTagName('option')[0].selected = 'selected';
                    break;
                case "true":
                    document.getElementById("sonido").getElementsByTagName('option')[1].selected = 'selected';
                    break;
            }
        }
        function getInfo() {
            var dificultad = document.getElementById("dificultad");
            var modo = document.getElementById("modo");
            var sonido = document.getElementById("sonido");

            switch (dificultad.value){
                case "facil":
                    localStorage.setItem("dificultad",JSON.stringify(10));
                    dificultad.getElementsByTagName('option')[0].selected = 'selected';
                    break;
                case "normal":
                    localStorage.setItem("dificultad",JSON.stringify(25));
                    dificultad.getElementsByTagName('option')[1].selected = 'selected';
                    break;
                case "dificil":
                    localStorage.setItem("dificultad",JSON.stringify(50));
                    dificultad.getElementsByTagName('option')[2].selected = 'selected';
                    break;
            }

            switch (modo.value){
                case "libre":
                    localStorage.setItem("modo",JSON.stringify(true));
                    break;
                case "contrareloj":
                    localStorage.setItem("modo",JSON.stringify(false));
                    break;
            }

            switch (sonido.value){
                case "mute":
                    localStorage.setItem("sonido",JSON.stringify(false));
                    break;
                case "normal":
                    localStorage.setItem("sonido",JSON.stringify(true));
                    break;
            }
        }
    </script>
  </body>
</html>
